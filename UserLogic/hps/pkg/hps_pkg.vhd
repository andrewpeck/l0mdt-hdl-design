-- This file was auto-generated by YML2HDL toll.
-- https://gitlab.com/tcpaiva/yml2hdl

LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.numeric_std.ALL;
USE ieee.math_real.ALL;

LIBRARY shared_lib;
USE shared_lib.common_ieee_pkg.ALL;
USE shared_lib.l0mdt_constants_pkg.ALL;
USE shared_lib.l0mdt_dataformats_pkg.ALL;
USE shared_lib.common_constants_pkg.ALL;
USE shared_lib.common_types_pkg.ALL;
-- library hp_lib;
-- use hp_lib.hp_pkg.all;
-- library heg_lib;
-- use heg_lib.heg_pkg.all;

LIBRARY hegtypes_lib;
USE hegtypes_lib.hp_pkg.ALL;
USE hegtypes_lib.heg_pkg.ALL;

PACKAGE hps_pkg IS

  TYPE hps_ctrl2sf_at IS ARRAY(INTEGER RANGE <>) OF heg_ctrl2sf_rt;
  TYPE hps_ctrl2sf_avt IS ARRAY(INTEGER RANGE <>) OF heg_ctrl2sf_rvt;
  FUNCTION vectorify(x : hps_ctrl2sf_at) RETURN hps_ctrl2sf_avt;
  FUNCTION vectorify(x : hps_ctrl2sf_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : hps_ctrl2sf_avt) RETURN hps_ctrl2sf_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hps_ctrl2sf_at;
  FUNCTION nullify(x : hps_ctrl2sf_at) RETURN hps_ctrl2sf_at;
  FUNCTION nullify(x : hps_ctrl2sf_avt) RETURN hps_ctrl2sf_avt;

END PACKAGE hps_pkg;

------------------------------------------------------------

PACKAGE BODY hps_pkg IS

  FUNCTION vectorify(x : hps_ctrl2sf_at) RETURN hps_ctrl2sf_avt IS
    VARIABLE y : hps_ctrl2sf_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : hps_ctrl2sf_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 3 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 3 + 1) := vectorify(x(i));
      msb := msb - 3;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hps_ctrl2sf_avt) RETURN hps_ctrl2sf_at IS
    VARIABLE y : hps_ctrl2sf_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hps_ctrl2sf_at IS
    VARIABLE y : hps_ctrl2sf_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 3 + 1));
      msb := msb - 3;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hps_ctrl2sf_at) RETURN hps_ctrl2sf_at IS
    VARIABLE y : hps_ctrl2sf_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : hps_ctrl2sf_avt) RETURN hps_ctrl2sf_avt IS
    VARIABLE y : hps_ctrl2sf_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

END PACKAGE BODY hps_pkg;