-- This file was auto-generated by YML2HDL toll.
-- https://gitlab.com/tcpaiva/yml2hdl

LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.numeric_std.ALL;
USE ieee.math_real.ALL;

LIBRARY shared_lib;
USE shared_lib.common_ieee_pkg.ALL;
USE shared_lib.l0mdt_constants_pkg.ALL;
USE shared_lib.l0mdt_dataformats_pkg.ALL;
USE shared_lib.common_constants_pkg.ALL;
USE shared_lib.common_types_pkg.ALL;
-- library hp_lib;
-- use hp_lib.hp_pkg.all;

LIBRARY hegtypes_lib;
USE hegtypes_lib.hp_pkg.ALL;

PACKAGE heg_pkg IS

  TYPE heg_pc2heg_at IS ARRAY(INTEGER RANGE <>) OF hp_hpsPc2hp_rt;
  TYPE heg_pc2heg_avt IS ARRAY(INTEGER RANGE <>) OF hp_hpsPc2hp_rvt;
  FUNCTION vectorify(x : heg_pc2heg_at) RETURN heg_pc2heg_avt;
  FUNCTION vectorify(x : heg_pc2heg_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : heg_pc2heg_avt) RETURN heg_pc2heg_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_pc2heg_at;
  FUNCTION nullify(x : heg_pc2heg_at) RETURN heg_pc2heg_at;
  FUNCTION nullify(x : heg_pc2heg_avt) RETURN heg_pc2heg_avt;

  TYPE heg_ctrl2hp_rt IS RECORD
    rst : STD_LOGIC;
    enable : STD_LOGIC;
  END RECORD heg_ctrl2hp_rt;
  CONSTANT HEG_CTRL2HP_LEN : INTEGER := 2;
  SUBTYPE heg_ctrl2hp_rvt IS STD_LOGIC_VECTOR(HEG_CTRL2HP_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : heg_ctrl2hp_rt) RETURN heg_ctrl2hp_rvt;
  FUNCTION structify(x : heg_ctrl2hp_rvt) RETURN heg_ctrl2hp_rt;
  FUNCTION nullify(x : heg_ctrl2hp_rt) RETURN heg_ctrl2hp_rt;

  TYPE heg_ctrl2hp_bus_at IS ARRAY(INTEGER RANGE <>) OF heg_ctrl2hp_rt;
  TYPE heg_ctrl2hp_bus_avt IS ARRAY(INTEGER RANGE <>) OF heg_ctrl2hp_rvt;
  FUNCTION vectorify(x : heg_ctrl2hp_bus_at) RETURN heg_ctrl2hp_bus_avt;
  FUNCTION vectorify(x : heg_ctrl2hp_bus_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : heg_ctrl2hp_bus_avt) RETURN heg_ctrl2hp_bus_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_ctrl2hp_bus_at;
  FUNCTION nullify(x : heg_ctrl2hp_bus_at) RETURN heg_ctrl2hp_bus_at;
  FUNCTION nullify(x : heg_ctrl2hp_bus_avt) RETURN heg_ctrl2hp_bus_avt;

  TYPE heg_ctrl2hp_all_rt IS RECORD
    window_valid : STD_LOGIC;
  END RECORD heg_ctrl2hp_all_rt;
  CONSTANT HEG_CTRL2HP_ALL_LEN : INTEGER := 1;
  SUBTYPE heg_ctrl2hp_all_rvt IS STD_LOGIC_VECTOR(HEG_CTRL2HP_ALL_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : heg_ctrl2hp_all_rt) RETURN heg_ctrl2hp_all_rvt;
  FUNCTION structify(x : heg_ctrl2hp_all_rvt) RETURN heg_ctrl2hp_all_rt;
  FUNCTION nullify(x : heg_ctrl2hp_all_rt) RETURN heg_ctrl2hp_all_rt;

  CONSTANT CSF_SLOPE_LEN : INTEGER := 11;

  TYPE heg_ctrl2sf_rt IS RECORD
    rst : STD_LOGIC;
    eof : STD_LOGIC;
    enable : STD_LOGIC;
  END RECORD heg_ctrl2sf_rt;
  CONSTANT HEG_CTRL2SF_LEN : INTEGER := 3;
  SUBTYPE heg_ctrl2sf_rvt IS STD_LOGIC_VECTOR(HEG_CTRL2SF_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : heg_ctrl2sf_rt) RETURN heg_ctrl2sf_rvt;
  FUNCTION structify(x : heg_ctrl2sf_rvt) RETURN heg_ctrl2sf_rt;
  FUNCTION nullify(x : heg_ctrl2sf_rt) RETURN heg_ctrl2sf_rt;

  TYPE heg_hp2bm_bus_at IS ARRAY(INTEGER RANGE <>) OF hp_hp2bm_rt;
  TYPE heg_hp2bm_bus_avt IS ARRAY(INTEGER RANGE <>) OF hp_hp2bm_rvt;
  FUNCTION vectorify(x : heg_hp2bm_bus_at) RETURN heg_hp2bm_bus_avt;
  FUNCTION vectorify(x : heg_hp2bm_bus_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : heg_hp2bm_bus_avt) RETURN heg_hp2bm_bus_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_hp2bm_bus_at;
  FUNCTION nullify(x : heg_hp2bm_bus_at) RETURN heg_hp2bm_bus_at;
  FUNCTION nullify(x : heg_hp2bm_bus_avt) RETURN heg_hp2bm_bus_avt;

  TYPE heg_bm2sf_rt IS RECORD
    data : hp_hp2sf_data_rt;
    data_valid : STD_LOGIC;
  END RECORD heg_bm2sf_rt;
  CONSTANT HEG_BM2SF_LEN : INTEGER := 41;
  SUBTYPE heg_bm2sf_rvt IS STD_LOGIC_VECTOR(HEG_BM2SF_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : heg_bm2sf_rt) RETURN heg_bm2sf_rvt;
  FUNCTION structify(x : heg_bm2sf_rvt) RETURN heg_bm2sf_rt;
  FUNCTION nullify(x : heg_bm2sf_rt) RETURN heg_bm2sf_rt;

  TYPE heg_hp2bm_data_bus_at IS ARRAY(INTEGER RANGE <>) OF hp_hp2sf_data_rt;
  TYPE heg_hp2bm_data_bus_avt IS ARRAY(INTEGER RANGE <>) OF hp_hp2sf_data_rvt;
  FUNCTION vectorify(x : heg_hp2bm_data_bus_at) RETURN heg_hp2bm_data_bus_avt;
  FUNCTION vectorify(x : heg_hp2bm_data_bus_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : heg_hp2bm_data_bus_avt) RETURN heg_hp2bm_data_bus_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_hp2bm_data_bus_at;
  FUNCTION nullify(x : heg_hp2bm_data_bus_at) RETURN heg_hp2bm_data_bus_at;
  FUNCTION nullify(x : heg_hp2bm_data_bus_avt) RETURN heg_hp2bm_data_bus_avt;

END PACKAGE heg_pkg;

------------------------------------------------------------

PACKAGE BODY heg_pkg IS

  FUNCTION vectorify(x : heg_pc2heg_at) RETURN heg_pc2heg_avt IS
    VARIABLE y : heg_pc2heg_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : heg_pc2heg_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 70 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 70 + 1) := vectorify(x(i));
      msb := msb - 70;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_pc2heg_avt) RETURN heg_pc2heg_at IS
    VARIABLE y : heg_pc2heg_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_pc2heg_at IS
    VARIABLE y : heg_pc2heg_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 70 + 1));
      msb := msb - 70;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_pc2heg_at) RETURN heg_pc2heg_at IS
    VARIABLE y : heg_pc2heg_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : heg_pc2heg_avt) RETURN heg_pc2heg_avt IS
    VARIABLE y : heg_pc2heg_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_ctrl2hp_rt) RETURN heg_ctrl2hp_rvt IS
    VARIABLE y : heg_ctrl2hp_rvt;
  BEGIN
    y(1 DOWNTO 1) := vectorify(x.rst);
    y(0 DOWNTO 0) := vectorify(x.enable);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_ctrl2hp_rvt) RETURN heg_ctrl2hp_rt IS
    VARIABLE y : heg_ctrl2hp_rt;
  BEGIN
    y.rst := structify(x(1 DOWNTO 1));
    y.enable := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_ctrl2hp_rt) RETURN heg_ctrl2hp_rt IS
    VARIABLE y : heg_ctrl2hp_rt;
  BEGIN
    y.rst := nullify(x.rst);
    y.enable := nullify(x.enable);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_ctrl2hp_bus_at) RETURN heg_ctrl2hp_bus_avt IS
    VARIABLE y : heg_ctrl2hp_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : heg_ctrl2hp_bus_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 2 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 2 + 1) := vectorify(x(i));
      msb := msb - 2;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_ctrl2hp_bus_avt) RETURN heg_ctrl2hp_bus_at IS
    VARIABLE y : heg_ctrl2hp_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_ctrl2hp_bus_at IS
    VARIABLE y : heg_ctrl2hp_bus_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 2 + 1));
      msb := msb - 2;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_ctrl2hp_bus_at) RETURN heg_ctrl2hp_bus_at IS
    VARIABLE y : heg_ctrl2hp_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : heg_ctrl2hp_bus_avt) RETURN heg_ctrl2hp_bus_avt IS
    VARIABLE y : heg_ctrl2hp_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_ctrl2hp_all_rt) RETURN heg_ctrl2hp_all_rvt IS
    VARIABLE y : heg_ctrl2hp_all_rvt;
  BEGIN
    y(0 DOWNTO 0) := vectorify(x.window_valid);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_ctrl2hp_all_rvt) RETURN heg_ctrl2hp_all_rt IS
    VARIABLE y : heg_ctrl2hp_all_rt;
  BEGIN
    y.window_valid := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_ctrl2hp_all_rt) RETURN heg_ctrl2hp_all_rt IS
    VARIABLE y : heg_ctrl2hp_all_rt;
  BEGIN
    y.window_valid := nullify(x.window_valid);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_ctrl2sf_rt) RETURN heg_ctrl2sf_rvt IS
    VARIABLE y : heg_ctrl2sf_rvt;
  BEGIN
    y(2 DOWNTO 2) := vectorify(x.rst);
    y(1 DOWNTO 1) := vectorify(x.eof);
    y(0 DOWNTO 0) := vectorify(x.enable);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_ctrl2sf_rvt) RETURN heg_ctrl2sf_rt IS
    VARIABLE y : heg_ctrl2sf_rt;
  BEGIN
    y.rst := structify(x(2 DOWNTO 2));
    y.eof := structify(x(1 DOWNTO 1));
    y.enable := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_ctrl2sf_rt) RETURN heg_ctrl2sf_rt IS
    VARIABLE y : heg_ctrl2sf_rt;
  BEGIN
    y.rst := nullify(x.rst);
    y.eof := nullify(x.eof);
    y.enable := nullify(x.enable);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_hp2bm_bus_at) RETURN heg_hp2bm_bus_avt IS
    VARIABLE y : heg_hp2bm_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : heg_hp2bm_bus_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 42 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 42 + 1) := vectorify(x(i));
      msb := msb - 42;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_hp2bm_bus_avt) RETURN heg_hp2bm_bus_at IS
    VARIABLE y : heg_hp2bm_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_hp2bm_bus_at IS
    VARIABLE y : heg_hp2bm_bus_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 42 + 1));
      msb := msb - 42;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_hp2bm_bus_at) RETURN heg_hp2bm_bus_at IS
    VARIABLE y : heg_hp2bm_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : heg_hp2bm_bus_avt) RETURN heg_hp2bm_bus_avt IS
    VARIABLE y : heg_hp2bm_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_bm2sf_rt) RETURN heg_bm2sf_rvt IS
    VARIABLE y : heg_bm2sf_rvt;
  BEGIN
    y(40 DOWNTO 1) := vectorify(x.data);
    y(0 DOWNTO 0) := vectorify(x.data_valid);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_bm2sf_rvt) RETURN heg_bm2sf_rt IS
    VARIABLE y : heg_bm2sf_rt;
  BEGIN
    y.data := structify(x(40 DOWNTO 1));
    y.data_valid := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_bm2sf_rt) RETURN heg_bm2sf_rt IS
    VARIABLE y : heg_bm2sf_rt;
  BEGIN
    y.data := nullify(x.data);
    y.data_valid := nullify(x.data_valid);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : heg_hp2bm_data_bus_at) RETURN heg_hp2bm_data_bus_avt IS
    VARIABLE y : heg_hp2bm_data_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : heg_hp2bm_data_bus_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 40 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 40 + 1) := vectorify(x(i));
      msb := msb - 40;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : heg_hp2bm_data_bus_avt) RETURN heg_hp2bm_data_bus_at IS
    VARIABLE y : heg_hp2bm_data_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN heg_hp2bm_data_bus_at IS
    VARIABLE y : heg_hp2bm_data_bus_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 40 + 1));
      msb := msb - 40;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : heg_hp2bm_data_bus_at) RETURN heg_hp2bm_data_bus_at IS
    VARIABLE y : heg_hp2bm_data_bus_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : heg_hp2bm_data_bus_avt) RETURN heg_hp2bm_data_bus_avt IS
    VARIABLE y : heg_hp2bm_data_bus_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

END PACKAGE BODY heg_pkg;