-- This file was auto-generated by YML2HDL toll.
-- https://gitlab.com/tcpaiva/yml2hdl

LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.numeric_std.ALL;
USE ieee.math_real.ALL;

LIBRARY shared_lib;
USE shared_lib.common_ieee_pkg.ALL;
USE shared_lib.l0mdt_constants_pkg.ALL;
USE shared_lib.l0mdt_dataformats_pkg.ALL;
USE shared_lib.common_constants_pkg.ALL;
USE shared_lib.common_types_pkg.ALL;

PACKAGE hp_pkg IS

  TYPE hp_win_tubes_rt IS RECORD
    hi : unsigned(MDT_TUBE_LEN - 1 DOWNTO 0);
    lo : unsigned(MDT_TUBE_LEN - 1 DOWNTO 0);
  END RECORD hp_win_tubes_rt;
  CONSTANT HP_WIN_TUBES_LEN : INTEGER := 18;
  SUBTYPE hp_win_tubes_rvt IS STD_LOGIC_VECTOR(HP_WIN_TUBES_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_win_tubes_rt) RETURN hp_win_tubes_rvt;
  FUNCTION structify(x : hp_win_tubes_rvt) RETURN hp_win_tubes_rt;
  FUNCTION nullify(x : hp_win_tubes_rt) RETURN hp_win_tubes_rt;

  TYPE hp_heg2hp_window_at IS ARRAY(INTEGER RANGE <>) OF hp_win_tubes_rt;
  TYPE hp_heg2hp_window_avt IS ARRAY(INTEGER RANGE <>) OF hp_win_tubes_rvt;
  FUNCTION vectorify(x : hp_heg2hp_window_at) RETURN hp_heg2hp_window_avt;
  FUNCTION vectorify(x : hp_heg2hp_window_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : hp_heg2hp_window_avt) RETURN hp_heg2hp_window_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hp_heg2hp_window_at;
  FUNCTION nullify(x : hp_heg2hp_window_at) RETURN hp_heg2hp_window_at;
  FUNCTION nullify(x : hp_heg2hp_window_avt) RETURN hp_heg2hp_window_avt;

  TYPE hp_win_tubes_limits_rt IS RECORD
    hi : signed(MDT_TUBE_LEN - 1 DOWNTO 0);
    lo : signed(MDT_TUBE_LEN - 1 DOWNTO 0);
  END RECORD hp_win_tubes_limits_rt;
  CONSTANT HP_WIN_TUBES_LIMITS_LEN : INTEGER := 18;
  SUBTYPE hp_win_tubes_limits_rvt IS STD_LOGIC_VECTOR(HP_WIN_TUBES_LIMITS_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_win_tubes_limits_rt) RETURN hp_win_tubes_limits_rvt;
  FUNCTION structify(x : hp_win_tubes_limits_rvt) RETURN hp_win_tubes_limits_rt;
  FUNCTION nullify(x : hp_win_tubes_limits_rt) RETURN hp_win_tubes_limits_rt;

  TYPE hp_window_limits_at IS ARRAY(INTEGER RANGE <>) OF hp_win_tubes_limits_rt;
  TYPE hp_window_limits_avt IS ARRAY(INTEGER RANGE <>) OF hp_win_tubes_limits_rvt;
  FUNCTION vectorify(x : hp_window_limits_at) RETURN hp_window_limits_avt;
  FUNCTION vectorify(x : hp_window_limits_at) RETURN STD_LOGIC_VECTOR;
  FUNCTION structify(x : hp_window_limits_avt) RETURN hp_window_limits_at;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hp_window_limits_at;
  FUNCTION nullify(x : hp_window_limits_at) RETURN hp_window_limits_at;
  FUNCTION nullify(x : hp_window_limits_avt) RETURN hp_window_limits_avt;

  TYPE hp_heg2hp_slc_b_rt IS RECORD
    roi_z : unsigned(MDT_GLOBAL_AXI_LEN - 1 DOWNTO 0);
    roi_x : unsigned(MDT_GLOBAL_AXI_LEN - 1 DOWNTO 0);
  END RECORD hp_heg2hp_slc_b_rt;
  CONSTANT HP_HEG2HP_SLC_B_LEN : INTEGER := 38;
  SUBTYPE hp_heg2hp_slc_b_rvt IS STD_LOGIC_VECTOR(HP_HEG2HP_SLC_B_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_heg2hp_slc_b_rt) RETURN hp_heg2hp_slc_b_rvt;
  FUNCTION structify(x : hp_heg2hp_slc_b_rvt) RETURN hp_heg2hp_slc_b_rt;
  FUNCTION nullify(x : hp_heg2hp_slc_b_rt) RETURN hp_heg2hp_slc_b_rt;

  CONSTANT HP_HEG2HP_SPECIFIC_LEN : INTEGER := 38;

  TYPE hp_heg2hp_slc_rt IS RECORD
    bcid : unsigned(BCID_LEN - 1 DOWNTO 0);
    specific : STD_LOGIC_VECTOR(HP_HEG2HP_SPECIFIC_LEN - 1 DOWNTO 0);
    data_valid : STD_LOGIC;
  END RECORD hp_heg2hp_slc_rt;
  CONSTANT HP_HEG2HP_SLC_LEN : INTEGER := 51;
  SUBTYPE hp_heg2hp_slc_rvt IS STD_LOGIC_VECTOR(HP_HEG2HP_SLC_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_heg2hp_slc_rt) RETURN hp_heg2hp_slc_rvt;
  FUNCTION structify(x : hp_heg2hp_slc_rvt) RETURN hp_heg2hp_slc_rt;
  FUNCTION nullify(x : hp_heg2hp_slc_rt) RETURN hp_heg2hp_slc_rt;

  TYPE hp_hpsPc2hp_rt IS RECORD
    tube : unsigned(MDT_TUBE_LEN - 1 DOWNTO 0);
    layer : unsigned(MDT_LAYER_LEN - 1 DOWNTO 0);
    time_t0 : unsigned(MDT_TIME_LEN - 1 DOWNTO 0);
    global_z : unsigned(MDT_GLOBAL_AXI_LEN - 1 DOWNTO 0);
    global_x : unsigned(MDT_GLOBAL_AXI_LEN - 1 DOWNTO 0);
    data_valid : STD_LOGIC;
  END RECORD hp_hpsPc2hp_rt;
  CONSTANT HP_HPSPC2HP_LEN : INTEGER := 70;
  SUBTYPE hp_hpsPc2hp_rvt IS STD_LOGIC_VECTOR(HP_HPSPC2HP_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_hpsPc2hp_rt) RETURN hp_hpsPc2hp_rvt;
  FUNCTION structify(x : hp_hpsPc2hp_rvt) RETURN hp_hpsPc2hp_rt;
  FUNCTION nullify(x : hp_hpsPc2hp_rt) RETURN hp_hpsPc2hp_rt;

  TYPE hp_hp2sf_data_rt IS RECORD
    local_y : unsigned(MDT_LOCAL_Y_LEN - 1 DOWNTO 0);
    local_x : unsigned(MDT_LOCAL_X_LEN - 1 DOWNTO 0);
    radius : unsigned(MDT_RADIUS_LEN - 1 DOWNTO 0);
    mlayer : STD_LOGIC;
  END RECORD hp_hp2sf_data_rt;
  CONSTANT HP_HP2SF_DATA_LEN : INTEGER := 40;
  SUBTYPE hp_hp2sf_data_rvt IS STD_LOGIC_VECTOR(HP_HP2SF_DATA_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_hp2sf_data_rt) RETURN hp_hp2sf_data_rvt;
  FUNCTION structify(x : hp_hp2sf_data_rvt) RETURN hp_hp2sf_data_rt;
  FUNCTION nullify(x : hp_hp2sf_data_rt) RETURN hp_hp2sf_data_rt;

  TYPE hp_hp2bm_rt IS RECORD
    data : hp_hp2sf_data_rt;
    mdt_valid : STD_LOGIC;
    data_valid : STD_LOGIC;
  END RECORD hp_hp2bm_rt;
  CONSTANT HP_HP2BM_LEN : INTEGER := 42;
  SUBTYPE hp_hp2bm_rvt IS STD_LOGIC_VECTOR(HP_HP2BM_LEN - 1 DOWNTO 0);
  FUNCTION vectorify(x : hp_hp2bm_rt) RETURN hp_hp2bm_rvt;
  FUNCTION structify(x : hp_hp2bm_rvt) RETURN hp_hp2bm_rt;
  FUNCTION nullify(x : hp_hp2bm_rt) RETURN hp_hp2bm_rt;

END PACKAGE hp_pkg;

------------------------------------------------------------

PACKAGE BODY hp_pkg IS

  FUNCTION vectorify(x : hp_win_tubes_rt) RETURN hp_win_tubes_rvt IS
    VARIABLE y : hp_win_tubes_rvt;
  BEGIN
    y(17 DOWNTO 9) := vectorify(x.hi);
    y(8 DOWNTO 0) := vectorify(x.lo);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_win_tubes_rvt) RETURN hp_win_tubes_rt IS
    VARIABLE y : hp_win_tubes_rt;
  BEGIN
    y.hi := structify(x(17 DOWNTO 9));
    y.lo := structify(x(8 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_win_tubes_rt) RETURN hp_win_tubes_rt IS
    VARIABLE y : hp_win_tubes_rt;
  BEGIN
    y.hi := nullify(x.hi);
    y.lo := nullify(x.lo);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_heg2hp_window_at) RETURN hp_heg2hp_window_avt IS
    VARIABLE y : hp_heg2hp_window_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : hp_heg2hp_window_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 18 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 18 + 1) := vectorify(x(i));
      msb := msb - 18;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_heg2hp_window_avt) RETURN hp_heg2hp_window_at IS
    VARIABLE y : hp_heg2hp_window_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hp_heg2hp_window_at IS
    VARIABLE y : hp_heg2hp_window_at(x'left/18 DOWNTO 0);

    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 18 + 1));
      msb := msb - 18;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_heg2hp_window_at) RETURN hp_heg2hp_window_at IS
    VARIABLE y : hp_heg2hp_window_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : hp_heg2hp_window_avt) RETURN hp_heg2hp_window_avt IS
    VARIABLE y : hp_heg2hp_window_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_win_tubes_limits_rt) RETURN hp_win_tubes_limits_rvt IS
    VARIABLE y : hp_win_tubes_limits_rvt;
  BEGIN
    y(17 DOWNTO 9) := vectorify(x.hi);
    y(8 DOWNTO 0) := vectorify(x.lo);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_win_tubes_limits_rvt) RETURN hp_win_tubes_limits_rt IS
    VARIABLE y : hp_win_tubes_limits_rt;
  BEGIN
    y.hi := structify(x(17 DOWNTO 9));
    y.lo := structify(x(8 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_win_tubes_limits_rt) RETURN hp_win_tubes_limits_rt IS
    VARIABLE y : hp_win_tubes_limits_rt;
  BEGIN
    y.hi := nullify(x.hi);
    y.lo := nullify(x.lo);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_window_limits_at) RETURN hp_window_limits_avt IS
    VARIABLE y : hp_window_limits_avt(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := vectorify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION vectorify(x : hp_window_limits_at) RETURN STD_LOGIC_VECTOR IS
    VARIABLE msb : INTEGER := x'length * 18 - 1;
    VARIABLE y : STD_LOGIC_VECTOR(msb DOWNTO 0);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(msb DOWNTO msb - 18 + 1) := vectorify(x(i));
      msb := msb - 18;
    END LOOP l;
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_window_limits_avt) RETURN hp_window_limits_at IS
    VARIABLE y : hp_window_limits_at(x'RANGE);
  BEGIN
    l : FOR i IN x'RANGE LOOP
      y(i) := structify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION structify(x : STD_LOGIC_VECTOR) RETURN hp_window_limits_at IS
    VARIABLE y : hp_window_limits_at(x'RANGE);
    VARIABLE msb : INTEGER := x'left;
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := structify(x(msb DOWNTO msb - 18 + 1));
      msb := msb - 18;
    END LOOP l;
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_window_limits_at) RETURN hp_window_limits_at IS
    VARIABLE y : hp_window_limits_at(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;
  FUNCTION nullify(x : hp_window_limits_avt) RETURN hp_window_limits_avt IS
    VARIABLE y : hp_window_limits_avt(x'RANGE);
  BEGIN
    l : FOR i IN y'RANGE LOOP
      y(i) := nullify(x(i));
    END LOOP l;
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_heg2hp_slc_b_rt) RETURN hp_heg2hp_slc_b_rvt IS
    VARIABLE y : hp_heg2hp_slc_b_rvt;
  BEGIN
    y(37 DOWNTO 19) := vectorify(x.roi_z);
    y(18 DOWNTO 0) := vectorify(x.roi_x);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_heg2hp_slc_b_rvt) RETURN hp_heg2hp_slc_b_rt IS
    VARIABLE y : hp_heg2hp_slc_b_rt;
  BEGIN
    y.roi_z := structify(x(37 DOWNTO 19));
    y.roi_x := structify(x(18 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_heg2hp_slc_b_rt) RETURN hp_heg2hp_slc_b_rt IS
    VARIABLE y : hp_heg2hp_slc_b_rt;
  BEGIN
    y.roi_z := nullify(x.roi_z);
    y.roi_x := nullify(x.roi_x);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_heg2hp_slc_rt) RETURN hp_heg2hp_slc_rvt IS
    VARIABLE y : hp_heg2hp_slc_rvt;
  BEGIN
    y(50 DOWNTO 39) := vectorify(x.bcid);
    y(38 DOWNTO 1) := vectorify(x.specific);
    y(0 DOWNTO 0) := vectorify(x.data_valid);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_heg2hp_slc_rvt) RETURN hp_heg2hp_slc_rt IS
    VARIABLE y : hp_heg2hp_slc_rt;
  BEGIN
    y.bcid := structify(x(50 DOWNTO 39));
    y.specific := structify(x(38 DOWNTO 1));
    y.data_valid := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_heg2hp_slc_rt) RETURN hp_heg2hp_slc_rt IS
    VARIABLE y : hp_heg2hp_slc_rt;
  BEGIN
    y.bcid := nullify(x.bcid);
    y.specific := nullify(x.specific);
    y.data_valid := nullify(x.data_valid);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_hpsPc2hp_rt) RETURN hp_hpsPc2hp_rvt IS
    VARIABLE y : hp_hpsPc2hp_rvt;
  BEGIN
    y(69 DOWNTO 61) := vectorify(x.tube);
    y(60 DOWNTO 56) := vectorify(x.layer);
    y(55 DOWNTO 39) := vectorify(x.time_t0);
    y(38 DOWNTO 20) := vectorify(x.global_z);
    y(19 DOWNTO 1) := vectorify(x.global_x);
    y(0 DOWNTO 0) := vectorify(x.data_valid);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_hpsPc2hp_rvt) RETURN hp_hpsPc2hp_rt IS
    VARIABLE y : hp_hpsPc2hp_rt;
  BEGIN
    y.tube := structify(x(69 DOWNTO 61));
    y.layer := structify(x(60 DOWNTO 56));
    y.time_t0 := structify(x(55 DOWNTO 39));
    y.global_z := structify(x(38 DOWNTO 20));
    y.global_x := structify(x(19 DOWNTO 1));
    y.data_valid := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_hpsPc2hp_rt) RETURN hp_hpsPc2hp_rt IS
    VARIABLE y : hp_hpsPc2hp_rt;
  BEGIN
    y.tube := nullify(x.tube);
    y.layer := nullify(x.layer);
    y.time_t0 := nullify(x.time_t0);
    y.global_z := nullify(x.global_z);
    y.global_x := nullify(x.global_x);
    y.data_valid := nullify(x.data_valid);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_hp2sf_data_rt) RETURN hp_hp2sf_data_rvt IS
    VARIABLE y : hp_hp2sf_data_rvt;
  BEGIN
    y(39 DOWNTO 25) := vectorify(x.local_y);
    y(24 DOWNTO 10) := vectorify(x.local_x);
    y(9 DOWNTO 1) := vectorify(x.radius);
    y(0 DOWNTO 0) := vectorify(x.mlayer);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_hp2sf_data_rvt) RETURN hp_hp2sf_data_rt IS
    VARIABLE y : hp_hp2sf_data_rt;
  BEGIN
    y.local_y := structify(x(39 DOWNTO 25));
    y.local_x := structify(x(24 DOWNTO 10));
    y.radius := structify(x(9 DOWNTO 1));
    y.mlayer := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_hp2sf_data_rt) RETURN hp_hp2sf_data_rt IS
    VARIABLE y : hp_hp2sf_data_rt;
  BEGIN
    y.local_y := nullify(x.local_y);
    y.local_x := nullify(x.local_x);
    y.radius := nullify(x.radius);
    y.mlayer := nullify(x.mlayer);
    RETURN y;
  END FUNCTION nullify;

  FUNCTION vectorify(x : hp_hp2bm_rt) RETURN hp_hp2bm_rvt IS
    VARIABLE y : hp_hp2bm_rvt;
  BEGIN
    y(41 DOWNTO 2) := vectorify(x.data);
    y(1 DOWNTO 1) := vectorify(x.mdt_valid);
    y(0 DOWNTO 0) := vectorify(x.data_valid);
    RETURN y;
  END FUNCTION vectorify;
  FUNCTION structify(x : hp_hp2bm_rvt) RETURN hp_hp2bm_rt IS
    VARIABLE y : hp_hp2bm_rt;
  BEGIN
    y.data := structify(x(41 DOWNTO 2));
    y.mdt_valid := structify(x(1 DOWNTO 1));
    y.data_valid := structify(x(0 DOWNTO 0));
    RETURN y;
  END FUNCTION structify;
  FUNCTION nullify(x : hp_hp2bm_rt) RETURN hp_hp2bm_rt IS
    VARIABLE y : hp_hp2bm_rt;
  BEGIN
    y.data := nullify(x.data);
    y.mdt_valid := nullify(x.mdt_valid);
    y.data_valid := nullify(x.data_valid);
    RETURN y;
  END FUNCTION nullify;

END PACKAGE BODY hp_pkg;