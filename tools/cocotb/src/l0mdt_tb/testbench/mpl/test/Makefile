
##################################################
# autogenerated file
# created by tb create on: 30-Oct-2023 (08:02:23)
# created by tb create for test: mpl
# Author:Iacopo Longarini
# Email:ilongari@cern.ch
##################################################

##############################################################################
#
# THE USER MUST NOT EDIT THESE LINES
#
##############################################################################

$(info *** SIM_BUILD=$(SIM_BUILD))
$(info *** TESTBENCH_TOPLEVEL=$(TESTBENCH_TOPLEVEL))
$(info *** TESTBENCH_TEST_MODULE=$(TESTBENCH_TEST_MODULE))
$(info *** COMPONENTS_LIB_DIR=$(COMPONENTS_LIB_DIR))


# CocoTB configuration
TOPLEVEL=$(TESTBENCH_TOPLEVEL)
MODULE=$(TESTBENCH_TEST_MODULE)

##############################################################################
#
# BELOW HERE THE USER CAN EDIT THE LINES
#
##############################################################################

SIM ?= questa

# Location of HDL source files
SRCDIR = $(PWD)/../../../../../../../
SBDIR = $(SRCDIR)/shared/SpyBuffer/src
IPDIR = $(SRCDIR)/IP
USERLOGIC = $(SRCDIR)/UserLogic
HLS       = $(SRCDIR)/l0mdt-hls

# Specify TopLevel language for cocotb
TOPLEVEL_LANG=verilog
DFDIR     = $(SRCDIR)/dataformats
MTCDIR    = $(USERLOGIC)/mtc/src
LSFDIR    = $(USERLOGIC)/lsf/src
CSFDIR    = $(USERLOGIC)/csf/src
MPTDIR    = $(USERLOGIC)/ptc_mpi/src
HPSDIR    = $(USERLOGIC)/hps/src
HPDIR     = $(USERLOGIC)/hp/src
HEGDIR    = $(USERLOGIC)/heg/src
MPLDIR    = $(USERLOGIC)/mpl/src
SLDIR     = $(USERLOGIC)/sl/src
TARDIR    = $(USERLOGIC)/tar/src
TDCDIR    = $(USERLOGIC)/tdc/src
UCMDIR    = $(USERLOGIC)/ucm/src
UCMHPSDIR = $(USERLOGIC)/ucm_hps/src
ULTDIR    = $(USERLOGIC)/ult/src
UPTDIR    = $(USERLOGIC)/upt/src
FMDIR     = $(USERLOGIC)/fm/src
SHAREDDIR = $(SRCDIR)/shared
HAL       = $(SRCDIR)/HAL
IP_REPO   = $(HLS)/IPs/vu13p
LSFSIMDIR = $(USERLOGIC)/lsf/sim


# VHDL source files, required by CocoTB
VHDL_SOURCES = \
    $(PWD)/tb_mpl.vhd


include ../../../creator/Makefile_vhdl_lib


# Set the include path and compilation flags for CocoTB
EXTRA_ARGS += +incdir+$(SRCDIR)/IP_repository +incdir+$(DFDIR)  +incdir+$(SHAREDDIR)/types +incdir+$(HAL)/ctrl/src/FM/ +incdir+$($(XILINX_HOME)/data/ip/xpm/xpm_memory/hdl) -L $(COMPONENTS_LIB_DIR)/unisims_ver  -L $(SIM_BUILD)/shared_lib  -L $(SIM_BUILD)/work +define+RUN_SIM
VSIM_ARGS  += -debugDB -voptargs=+acc -wlf $(SIM_BUILD)/$(TESTBENCH_TEST_MODULE).wlf
VCOM_ARGS  += -2008

##############################################################################
#
# THE USER MUST NOT EDIT THESE LINES
#
##############################################################################
include $(shell cocotb-config --makefiles)/Makefile.inc
include $(shell cocotb-config --makefiles)/Makefile.sim
