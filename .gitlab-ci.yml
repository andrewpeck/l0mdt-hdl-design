include:
    - project: 'hog/Hog'
      file: '/gitlab-ci.yml'
      ref: 'feature/external_libs'
# before_script:
#     - env
#     - export REPO=`echo $CI_PROJECT_URL | sed -e s#https://##`
#     - git remote set-url origin https://${HOG_USER}:${HOG_PUSH_TOKEN}@$REPO
#     - git config user.email ${HOG_EMAIL}
#     - git config user.name ${HOG_USER}
#     - git fetch
#     - git fetch origin $CI_COMMIT_REF_NAME
#     - git fetch origin $CI_MERGE_REQUEST_TARGET_BRANCH_NAME
#     - git checkout $CI_COMMIT_REF_NAME
#     - git submodule init
#     - git submodule update
#     - ./Hog/Ignore_ip_xml.sh
#     - export XILINXD_LICENSE_FILE=${HOG_XIL_LICENSE}
#     - export PATH=$PATH:${HOG_PATH}
#     - echo $HOG_PASSWORD | kinit $HOG_USER
#     - source ${PROFPGA_PATH}/settings64.sh
#     - export HOG_NO_BITSTREAM_STAGE=1

#################### CSF Project ###########################

create_project:profpga_duo_pt.0:
    extends: .create_project
    variables:
      extends: .vars
      PROJECT_NAME: profpga_duo_pt.0

synthesise_ips:profpga_duo_pt.0:
    extends: .synthesise_ips
    variables:
      extends: .vars
      PROJECT_NAME: profpga_duo_pt.0
      IP_PATH: IP
    dependencies:
        - create_project:profpga_duo_pt.0

synthesise_project:profpga_duo_pt.0:
    extends: .synthesise_project
    variables:
      extends: .vars
      PROJECT_NAME: profpga_duo_pt.0
    dependencies:
        - synthesise_ips:profpga_duo_pt.0
        - create_project:profpga_duo_pt.0

implement_project:profpga_duo_pt.0:
    extends: .implement_project
    variables:
      extends: .vars
      PROJECT_NAME: profpga_duo_pt.0
    dependencies:
       - create_project:profpga_duo_pt.0
       - synthesise_ips:profpga_duo_pt.0
       - synthesise_project:profpga_duo_pt.0

