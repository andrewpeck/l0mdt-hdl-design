<?xml version="1.0" encoding="utf-8"?>

<!--<node id="LINK_SEL"      address="0x1" mask="0x0ff" permission="rw" description="Selects an LPGBT link to write to"/>-->
<!--<node id="SEL_SLAVE"     address="0x1" mask="0x100" permission="rw" description="Set to 1 to select the slave link (EC)"/>-->
<!--<node id="BROADCAST"     address="0x1" mask="0x200" permission="rw" description="Sends data to all LPGBTs (Master + Slave)"/>-->

<node id="SC" permission="rw">

    <node id="FRAME_FORMAT" address="0x19" mask="0x00000001" permission="rw" parameters="default=0" description="0 = lpgbt v0; 1 = lpgbt v1"/>

    <node id="MASTER" address="0x0" permission="rw">

        <node id="TX_RESET"    address="0x0" mask="0x00000001" permission="rw" parameters="default=0" description="Reset TX datapath"/>
        <node id="RX_RESET"    address="0x1" mask="0x00000002" permission="rw" parameters="default=0" description="Reset RX datapath"/>

        <node id="IC" address="0x2" module="file://GBT-IC.xml"/>

        <!--SCA Commands -->
        <node id="TX_CMD"     address="0x9" mask="0x000000ff" permission="rw" parameters="default=0" description="Command: The Command field is present in the frames received by the SCA and indicates the operation to be performed. Meaning is specific to the channel."/>
        <node id="TX_ADDRESS" address="0x9" mask="0x0000ff00" permission="rw" parameters="default=0" description="Command: It represents the packet destination address. The address is one-byte long. By default, the GBT-SCA use address 0x00."/>
        <node id="TX_TRANSID" address="0x9" mask="0x00ff0000" permission="rw" parameters="default=0" description="Command: Specifies the message identification number. The reply messages generated by the SCA have the same transaction identifier of the request message allowing to associate the transmitted commands with the corresponding replies, permitting the concurrent use of all the SCA channels.  It is not required that ID values are ordered. ID values 0x00 and 0xff are reserved for interrupt packets generated spontaneously by the SCA and should not be used in requests."/>
        <node id="TX_CHANNEL" address="0x9" mask="0xff000000" permission="rw" parameters="default=0" description="Command: The channel field specifies the destination interface of the request message (ctrl/spi/gpio/i2c/jtag/adc/dac)."/>
        <node id="TX_DATA"    address="0xA" mask="0xffffffff" permission="rw" parameters="default=0" description="Command: data field (According to the SCA manual)"/>

        <node id="SCA_RX" address="0xB" permission="rw">
            <node id="RX_0" address="0x0" fwinfo="type=array" module="file://SCA_RX.xml"/>
            <node id="RX_1" address="0x3" fwinfo="type=array" module="file://SCA_RX.xml"/>
            <node id="RX_2" address="0x6" fwinfo="type=array" module="file://SCA_RX.xml"/>
            <node id="RX_3" address="0x9" fwinfo="type=array" module="file://SCA_RX.xml"/>
        </node>

        <!--SCA Control -->
        <node id="SCA_ENABLE"     address="0x17" mask="0xf" permission="rw" parameters="default=0xf" description="Enable flag to select SCAs"/> <!--size = to # of scas-->
        <node id="START_RESET"    address="0x18" mask="0x1" permission="rw" parameters="default=0" description="Send a reset command to the enabled SCAs"/> <!--ACTION-->
        <node id="START_CONNECT"  address="0x18" mask="0x2" permission="rw" parameters="default=0" description="Send a connect command to the enabled SCAs"/> <!--ACTION-->
        <node id="START_COMMAND"  address="0x18" mask="0x4" permission="rw" parameters="default=0" description="Send the command set in input to the enabled SCAs"/> <!--ACTION-->
        <node id="INJ_CRC_ERR"    address="0x18" mask="0x8" permission="rw" parameters="default=0" description="Emulate a CRC error"/> <!--ACTION-->

    </node> <!-- Master -->

    <node id="SLAVE" address="0x20" permission="rw">

        <node id="TX_RESET"    address="0x0" mask="0x00000001" permission="rw" parameters="default=0" description="Reset TX datapath"/>
        <node id="RX_RESET"    address="0x1" mask="0x00000002" permission="rw" parameters="default=0" description="Reset RX datapath"/>

        <node id="IC" address="0x2" module="file://GBT-IC.xml"/>

    </node> <!-- slave -->

</node> <!-- SC -->
